title: Generate fake data in Node.js using Faker.js library
layout: page

# Welcome to Generation of Fake Data using Faker.js in Node.js

The code in this page repository will allow you to automatically generate Fake Data using Faker.js in Node.js. It then will save it to your local MongoDB and display the results on a webpage.
Feel free to use the code as a template for your code.

## Table of Content

- [Folder Structure](#Folder-Structure)
- [How the project will run](#How-the-project-will-run)
- [Setting up the application starting point](#Setting-up-the-application-starting point)
- [Setting up views](#Setting-up-views)
- [Setting up models](#Setting-up-models)
- [Run the project](#Run-the-project)

### Folder Structure

The folder structure will be as shown below:

> Fakedata (Root Directory)
>
> > node_modules (folder)
> >
> > models (folder)
> > > user.js (file)
> >
> > views (folder)
> > > home.ejs (file)
> >
> >
> > app.js (file)
> > 

### How the project will run

The code when executed will use the faker.js library to generate the data needed several times. It will store each value generated in a local database. We shall then see the results in a web browser as a webpage from the database.

### Setting up the application starting point

"app.js" will be used as our application starting point.

**app.js**
Inside this file, do the following:

```javascript
// Require needed packages
var express = require('express');
var mongoose = require('mongoose');
var faker = require('faker');
var path = require('path');
var fakerModel = require('./models/user');

// Connect to a local Mongodb database called fakedata
// If successful log out on the console "connected to db"
//    else "connection error"
mongoose.connect('mongodb://localhost:27017/fakedata', { useNewUrlParser: true })
    .then(() => console.log('connected to db')).catch(error => console.log('connection error', error));

// Use express to set up our view engine to "ejs"
// Set up our absolute directory path to the source directory
var app = express();

app.set('view engine', 'ejs');
app.set('views', path.resolve(__dirname, 'views'));

// Set up our simple routing system to take us to the "home.ejs" file
// or the home webpage whenever the application is launched
app.get('/', (req, res) => {
    fakerModel.find((err, data) => {
        if (err) {
            console.log(err)
        } else if (data) {
            res.render('home', { data: data });
        } else {
            res.render('home', { data: {} });
        }
    });
});

// Return each data generated to the variables below and save all of them
// This will  be done ten times due to the for loop
// You can add the number of data to be generated by changing the value
app.post('/', (req, res) => {
    for (var i = 0; i < 10; i++) {
        var fakee = new fakerModel({
            firstname: faker.name.firstName(),
            lastname: faker.name.lastName(),
            phonenumber: faker.phone.phoneNumber(),
            city: faker.address.city(),
            state: faker.address.state(),
            country: faker.address.country()
        });
        fakee.save((err, data) => {
            if (err) {
                console.log(err)
            }
        });
    }
    res.redirect('/');
});

// Set up our ports in which we shall see the webpage and data generated
// We will use 5000 as our port number
var port = process.env.PORT || 5000;

app.listen(port, () => console.log('server running at port ' + port));
```

### Setting up models

**user.js**
Inside the "models" folder, navigate to the "user.js" file. Let us do the following in that file:

```javascript
// Require the mongoose model
var mongoose = require('mongoose');

// Add the following columns in it and their datatypes
var fakerSchema = new mongoose.Schema({
    firstname: String,
    lastname: String,
    phonenumber: String,
    city: String,
    state: String,
    country: String
});

// Require it as the output
module.exports = mongoose.model('fakerCollection', fakerSchema);
```

### Setting up views

**home.ejs**
In this file, this shall be the code:

```html
<!doctype html>
<html lang="en">

<head>
    <title>Fake Data Generator</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Custom CSS -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap');
        * {
            font-family: Montserrat;
        }
        
        .card {
            margin: 0 auto;
            /* Added */
            float: none;
            /* Added */
            margin-bottom: 10px;
            /* Added */
        }
    </style>
</head>

<body>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <!-- Main Container -->
    <div class="container">

        <!-- Header -->
        <br>
        <h1 class="text-center">FAKE DATA GENERATOR</h1>
        <hr>
        <p class="text-secondary">This is a simple Fake Data generator website</p>
        <hr>
        <!-- Header end.//-->

        <!-- Generate button -->
        <form action="/" method="post">
            <input type="submit" class="btn btn-primary btn-lg btn-block" value="click to generate the data">
        </form> <br>
        <!-- Generate button end.//-->

        <a class="btn btn-primary stretched-link" href="#footer">Go to the bottom</a>
        <hr>

        <!-- Table -->
        <%if(data.length>0){%>
            <table class="table table-striped table-inverse table-responsive" border="1" style="text-align: center;">
                <thead class="thead-inverse">
                    <tr>
                        <th>
                            s.no
                        </th>
                        <th>
                            firstname
                        </th>
                        <th>
                            lastname
                        </th>
                        <th>
                            phonenumber
                        </th>
                        <th>
                            city
                        </th>
                        <th>
                            state
                        </th>
                        <th>
                            country
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <%for(var i=0;i< data.length; i++){%>
                        <tr>
                            <td>
                                <%= i%>
                            </td>
                            <td>
                                <%= data[i].firstname%>
                            </td>
                            <td>
                                <%= data[i].lastname%>
                            </td>
                            <td>
                                <%= data[i].phonenumber%>
                            </td>
                            <td>
                                <%= data[i].city%>
                            </td>
                            <td>
                                <%= data[i].state%>
                            </td>
                            <td>
                                <%= data[i].country%>
                            </td>
                        </tr>
                        <%}%>
                </tbody>
            </table>
            <%}%>
                <!-- Table end.//-->

                <!-- Footer section-->
                <hr>
                <p class="text-secondary">This is the end of the page!</p>

                <hr>

                <p class="text-secondary">Click the button below to generate more data...</p>

                <!-- Generate button-->
                <form action="/" method="post">
                    <input type="submit" class="btn btn-primary btn-lg btn-block" value="click to generate the data">
                </form> <br>
                <!-- Generate button end.//-->
                <footer id="footer">Bye...</footer>
                <!-- Footer section end.//-->
    </div>
    <!--container end.//-->
</body>

</html>
```

### Run the project

Before running the code, make sure that MongoDB is running in the background.

In your integrated terminal, run the following command:
`
nodemon run dev
`

## Output
![Main Webpage](fakedata-home.ejs-webpage.png?raw=true "Results Webpage")

And that is all!
Feel free to contribute to the repository as you see well...

_Author: **JustusMbuvi**_
